<%- include('../utils/Starter.ejs') %>
<!-- Link your css files here -->
<link rel="stylesheet" href="/styles/header.css">
<link rel="stylesheet" href="/styles/emailVerification.css">
<link rel="stylesheet" href="/styles/sellerSignup.css">
<%- include('../utils/AfterLinkStyles.ejs') %>
<%- include('../utils/Header.ejs') %>

<body>
    <script src="/scripts/sellerLocalStorage.js"></script>
    <%- include('../utils/MessageBox.ejs') %>
    <%- include('../utils/OTP_popup.ejs') %>
    <div class="body-wrapper">
        <div class="heading">
            <h1 class=".bona-nova-sc-bold pageHeading">Lets get started with us</h1><br>
            <p>Before you start, please be handly with</p>
            <p>image for Store, Header and Footer for pdf</p>
        </div>
        <div class="formWrapper">
            <form id="seller-form1"  method="post" enctype="multipart/form-data">
                <div class="formView--1 formView ">
                    <fieldset>
                        <legend>Basic Details</legend>
                        <%- include('../utils/inputField.ejs',{style:'sideWays',textClass:'',textName:'Name',isTextArea:false,inputType:'text',nameAttribute:'sellerName',inputClassName:'sellerName',placeHolder:'Your Name',isRequired:true,isFile:false,fileType:'',isDisabled:false}) %>
                        <%- include('../utils/EmailVerification.ejs',{verifiedStatusFor:'hidden-sellerSignup'}) %>
                        <%- include('../utils/inputField.ejs',{style:'sideWays',textClass:'',textName:'Mobile No.',isTextArea:false,inputType:'number',nameAttribute:'mobileNo',inputClassName:'mobileNo',placeHolder:'Enter Mobile No.',isRequired:true,isFile:false,fileType:'',isDisabled:false}) %>
                        <%- include('../utils/inputField.ejs',{style:'sideWays',textClass:'',textName:'Password',isTextArea:false,inputType:'password',nameAttribute:'password',inputClassName:'password',placeHolder:'Enter password',isRequired:true,isFile:false,fileType:'',isDisabled:false}) %>
                        <%- include('../utils/inputField.ejs',{style:'sideWays',textClass:'',textName:'Confirm Password',isTextArea:false,inputType:'password',nameAttribute:'confirm-password',inputClassName:'confirm-password',placeHolder:'Re-enter password',isRequired:true,isFile:false,fileType:'',isDisabled:false}) %>
                    </fieldset>
                </div>
                <div class="formView--2 formView formPageHidden">
                    <fieldset>
                        <legend>Registration Details</legend>
                        <%- include('../utils/inputField.ejs',{style:'sideWays',textClass:'',textName:'Drug License Number',isTextArea:false,inputType:'text',nameAttribute:'drugLicenseNumber',inputClassName:'drugLicenseNumber',placeHolder:'XX YYY ZZZZZZ',isRequired:true,isFile:false,fileType:'',isDisabled:false}) %>
                        <%- include('../utils/inputField.ejs',{style:'sideWays',textClass:'',textName:'GST Registration Number',isTextArea:false,inputType:'text',nameAttribute:'gstRegistrationNumber',inputClassName:'gstRegistrationNumber',placeHolder:'XX YYYYY UUUUA V Z B',isRequired:true,isFile:false,fileType:'',isDisabled:false}) %>
                        <%- include('../utils/inputField.ejs',{style:'sideWays',textClass:'',textName:'FSSAI License Number',isTextArea:false,inputType:'text',nameAttribute:'fssaiLicenseNumber',inputClassName:'fssaiLicenseNumber',placeHolder:'',isRequired:true,isFile:false,fileType:'',isDisabled:false}) %>
                        
                    </fieldset>
                </div>
                <div class="formView--3 formView formPageHidden">
                    <fieldset>
                        <legend>Store Details</legend>
                        <%- include('../utils/inputField.ejs',{style:'sideWays',textClass:'',textName:'Store Name',isTextArea:false,inputType:'text',nameAttribute:'storeName',inputClassName:'storeName',placeHolder:'Your Store Name',isRequired:true,isFile:false,fileType:'',isDisabled:false}) %>
                        <%- include('../utils/inputField.ejs',{style:'sideWays',textClass:'',textName:'Store Logo',isTextArea:false,inputType:'file',nameAttribute:'storeLogo',inputClassName:'storeLogo',placeHolder:'Store Logo',isRequired:false,isFile:true,fileType:'image/png, image/jpeg, image/jpg',isDisabled:false}) %>
                        <%- include('../utils/inputField.ejs',{style:'sideWays',textClass:'',textName:'Header Logo for PDF',isTextArea:false,inputType:'file',nameAttribute:'headerLogoForPdf',inputClassName:'headerLogoForPdf',placeHolder:'Header Logo for PDF',isRequired:false,isFile:true,fileType:'image/png, image/jpeg, image/jpg',isDisabled:false}) %>
                        <%- include('../utils/inputField.ejs',{style:'sideWays',textClass:'',textName:'Footer Logo for PDF',isTextArea:false,inputType:'file',nameAttribute:'footerLogoForPdf',inputClassName:'footerLogoForPdf',placeHolder:'Footer Logo for PDF',isRequired:false,isFile:true,fileType:'image/png, image/jpeg, image/jpg',isDisabled:false}) %>
                    </fieldset>
                </div>
                <div class="formView--4 formView formPageHidden">
                    <fieldset>
                        <legend>Store Availability</legend>
                        <div class="headerHolder availableContentHolder">
                            <div class="checkboxHolder">Select</div>
                            <div class="dayName">Day</div>
                            <div class="openTime">Opening Time</div>
                            <div class="closeTime">Closing Time</div>
                        </div>
                        <script>
                            const days = ['Monday','Tuesday','Wednesday','Thursday','Friday','Saturday','Sunday'];
                            const copyday = days;
                            copyday.reverse().forEach(day=>{
                                document.querySelector('.headerHolder').insertAdjacentHTML('afterend',
                                    `<div class="availableContentHolder">
                                        <div  class="checkboxHolder"><input class="checkboxes" type="checkbox" value="${day}" checked></div>
                                        <div class="dayName">${day}</div>
                                        <div class="openTime"><input type="time" name="${day}" id="openTime-${day}" value="09:00"></div>
                                        <div class="closeTime"><input type="time" name="${day}" id="closeTime-${day}" value="22:00"></div>
                                    </div>`
                                );
                            });
                        </script>
                        <input type="hidden" class="dayTime" name="dayTime" value="">
                    </fieldset>
                </div>
                <div class="formView--5 formView formPageHidden">
                    <fieldset>
                        <legend>Store Location</legend>
                        <br>
                        <div style="color: white; padding:0.5rem;"><h3>Store Address</h3></div>
                        <%- include('../utils/inputField.ejs',{style:'sideWays',textClass:'',textName:'Line 1',isTextArea:false,inputType:'text',nameAttribute:'storeAddressLine1',inputClassName:'address-line1',placeHolder:'House Number/Apartment Number',isRequired:true,isFile:false,fileType:'',isDisabled:false}) %>
                        <%- include('../utils/inputField.ejs',{style:'sideWays',textClass:'',textName:'Pincode',isTextArea:false,inputType:'number',nameAttribute:'pincode',inputClassName:'shopPincode',placeHolder:'Enter Pincode',isRequired:true,isFile:false,fileType:'',isDisabled:false}) %>
                        <%- include('../utils/inputField.ejs',{style:'sideWays',textClass:'',textName:'State',isTextArea:false,inputType:'text',nameAttribute:'state',inputClassName:'shopState',placeHolder:'',isRequired:true,isFile:false,fileType:'',isDisabled:true}) %>
                        <%- include('../utils/inputField.ejs',{style:'sideWays',textClass:'',textName:'City',isTextArea:false,inputType:'text',nameAttribute:'city',inputClassName:'shopCity',placeHolder:'',isRequired:true,isFile:false,fileType:'',isDisabled:true}) %>
        
                        <!-- location access handler -->
                        <div class="storeLocation"> 
                            <div class="storeLocationTextHolder">Store Location</div>
                            <div>
                                <button class="button getLocation" type="button">Locate Your Store</button>
                            </div>
                        </div>
                        <input type="text" value="" class="latitude message-hidden">
                        <input type="text" value="" class="longitude message-hidden">
                        <!-- google map script -->
                        <script>
                            window.addEventListener("message", function (event) {
                                if (event.data.coords) {
                                    document.querySelector(".latitude").value = event.data.coords.latitude;
                                    document.querySelector(".longitude").value = event.data.coords.longitude;
                                    updateData('locationLatitude',document.querySelector(".latitude").value);
                                    updateData('locationLongitude',document.querySelector(".longitude").value);
                                }
                                messageOperation( 'Fetched location successfully');
                            });
                        </script>
                        <div class="formBtn">
                            <div><button class="reset button" type="reset">Reset</button></div>
                            <div><button class="submit button" type="button">Submit</button></div>
                        </div>
                        <script>
                            const pincodeField =  document.querySelector('.shopPincode');
                            const state =document.querySelector('.shopState');
                            const city = document.querySelector('.shopCity');
                            pincodeField.addEventListener('input',async(e)=>{
                                if(pincodeField.value.length==6){
                                    updateData('pincode',pincodeField.value);
                                    const response = await fetch('<%= url %>utils/pincode',{
                                        method:'POST',
                                        headers:  { 'Content-Type': 'application/json' },
                                        body: JSON.stringify({
                                            pincode : pincodeField.value
                                        }),
                                    });
                                    const result = await response.json();

                                    if(result.success){
                                        state.value = result.data.state;
                                        city.value = result.data.city;
                                        updateData('shopState',state.value);
                                        updateData('shopCity',city.value);
                                    }else{
                                       messageOperation(result.message);
                                    }
                                }else{
                                    state.value = '';
                                    city.value = '';
                                }
                            })
                        </script>
                    </fieldset>
                </div>
                <div class="formViewBtn ">
                    <div class="sellerFormBackBtn sellerFormBtn navigationButtonHidden" title="previous page"> <img src="/images/redArrow.png" alt="Red Arrow"></div>
                    <div class="sellerFormFrontBtn sellerFormBtn" title="next page"><img src="/images/greenArrow.png" alt="Green Arrow"></div>
                </div>
            </form>
        </div>
    </div>
</body>
<script>
    const url = '<%= url %>';
</script>
<script src="/scripts/sellerSignup.js"></script>

<%- include('../utils/Footer.ejs') %>
